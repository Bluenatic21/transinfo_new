/* styles/theme.css */
:root {
    /* brand */
    --brand-blue: #81CAFF;
    --brand-teal: #20C5B4;
    --brand-orange: #FE9805;
    --brand-navy: #111B27;

    /* neutral gray scale */
    --gray-50: #F5F7FA;
    --gray-75: #EEF1F6;
    --gray-100: #E1E5ED;
    --gray-200: #CBD2E1;
    --gray-300: #A8B1C5;
    --gray-600: #4B5565;
    --gray-800: #111827;

    /* timing */
    --transition-fast: 150ms ease-out;
    --transition-normal: 220ms ease-out;
}

/* Тёмная тема (по умолчанию) */
:root[data-theme="dark"] {
    color-scheme: dark;
    --bg-body: #050B12;
    --bg-header: #0C141F;
    --bg-card: #101927;
    --bg-card-soft: #0B111C;

    --border-subtle: rgba(255, 255, 255, 0.06);
    --border-strong: rgba(255, 255, 255, 0.12);

    --text-primary: #F9FAFB;
    --text-secondary: #9CA3AF;
    --text-muted: #6B7280;
    --text-on-brand: #FFFFFF;

    --control-bg: #101927;
    --control-bg-hover: #151F2E;

    --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.55);

    /* legacy tokens for Tailwind и старых стилей */
    --bg: 5 11 18;
    --fg: 249 250 251;
    --muted: 156 163 175;
    --card: 16 25 39;
    --border: 36 51 66;
    --primary: 129 202 255;
    --accent: 254 152 5;

    /* Messenger bubbles */
    --chat-bubble-self-bg: #123a72;
    --chat-bubble-peer-bg: #101b2d;
    --chat-bubble-self-text: #e6f2ff;
    --chat-bubble-peer-text: #e8edf7;
    --chat-bubble-meta: #9fb7d8;
    --chat-bubble-self-accent: #3b82f6;
    --chat-bubble-peer-accent: #3aa7c5;
    --chat-bubble-self-border: #3b82f6;
    --chat-bubble-peer-border: #2c3f61;
    --chat-translation-bg: rgba(0, 0, 0, 0.12);
    --chat-translation-text: #d7e8ff;
    --chat-reaction-shadow: 0 2px 12px #0002;
    --chat-input-bg: #232b3c;
    --chat-input-border: #364869;
    --chat-input-text: #e8f1ff;
}

/* Светлая тема */
:root[data-theme="light"] {
    color-scheme: light;
    /* Мягкая светлая палитра с более тёмными текстами для читаемости */
    --bg-body: #F4F6FB;
    --bg-header: #FFFFFF;
    --bg-card: #FFFFFF;
    --bg-card-soft: #E9EDF5;

    --border-subtle: #D7DEEA;
    --border-strong: #C4CCDD;

    --text-primary: #0F172A;
    --text-secondary: #334155;
    --text-muted: #4B5565;
    --text-on-brand: #FFFFFF;

    --control-bg: #FBFCFF;
    --control-bg-hover: #EEF3FB;

    --shadow-soft: 0 10px 28px rgba(15, 23, 42, 0.08);

    /* legacy tokens for Tailwind и старых стилей */
    --bg: 244 246 251;
    --fg: 15 23 42;
    --muted: 51 65 85;
    --card: 255 255 255;
    --border: 215 222 234;
    --primary: 129 202 255;
    --accent: 254 152 5;

    /* Messenger bubbles */
    --chat-bubble-self-bg: #e5f2ff;
    --chat-bubble-peer-bg: #f6f8fb;
    --chat-bubble-self-text: #0f172a;
    --chat-bubble-peer-text: #0f172a;
    --chat-bubble-meta: #5e6b7c;
    --chat-bubble-self-accent: #3b82f6;
    --chat-bubble-peer-accent: #6aa5d8;
    --chat-bubble-self-border: #9ec7ff;
    --chat-bubble-peer-border: #c8d3e2;
    --chat-translation-bg: #eef2f7;
    --chat-translation-text: #0f172a;
    --chat-reaction-shadow: 0 2px 12px rgba(15, 23, 42, 0.12);
    --chat-input-bg: #ffffff;
    --chat-input-border: #cbd5e1;
    --chat-input-text: #0f172a;
}

/* === Header design tokens === */
:root {
    --header-bg: var(--bg-card);
    --header-fg: var(--text-primary);
    --header-muted: var(--text-secondary);
    --header-shadow: 0 2px 16px 0 rgba(0, 32, 84, 0.09);
}

:root[data-theme="light"] {
    --header-bg: var(--bg-header);
    --header-fg: var(--text-primary);
    --header-muted: var(--text-secondary);
    --header-shadow: 0 2px 10px rgb(0 0 0 / 8%);
}

/* Общие алиасы */
:root {
    --surface: var(--bg-card);
    --surface-soft: var(--bg-card-soft);
    --text: var(--text-primary);
}

/* === Footer tokens === */
:root {
    --footer-brand-color: var(--accent);
}

:root[data-theme="light"] {
    --footer-brand-color: #ffffff;
}

/* === Sidebar tokens === */
:root[data-theme="dark"] {
    --sidebar-bg: rgba(24, 38, 60, 0.97);
    --sidebar-border: #24385b;
    --sidebar-title: #4fc3f7;
    --sidebar-title-shadow: 0 1px 10px #112b4dcc;
    --sidebar-link: #e3f2fd;
    --sidebar-link-hover-bg: rgba(67, 200, 255, 0.12);
    --sidebar-link-hover: #bde8ff;
    --sidebar-shadow: 4px 0 32px #0a1c34aa;
}

:root[data-theme="light"] {
    --sidebar-bg: #ffffff;
    --sidebar-border: var(--border-strong);
    --sidebar-title: var(--brand-navy);
    --sidebar-title-shadow: none;
    --sidebar-link: var(--text-primary);
    --sidebar-link-hover-bg: color-mix(in srgb, var(--brand-blue) 16%, transparent);
    --sidebar-link-hover: var(--brand-navy);
    --sidebar-shadow: 4px 0 24px rgba(15, 23, 42, 0.08);
}

/* === Orders/Transport list shells === */
:root[data-theme="dark"] {
    --orders-panel-bg: rgba(23, 38, 60, 0.98);
    --orders-panel-border: rgba(255, 255, 255, 0.06);
    --orders-panel-shadow: 0 4px 24px #00184455;
    --orders-heading: #43c8ff;
    --orders-muted: #9fb3c8;

    --orders-tabs-bg: rgba(11, 19, 36, 0.9);
    --orders-tabs-border: rgba(255, 255, 255, 0.04);
    --orders-tabs-shadow: 0 12px 26px rgba(0, 16, 44, 0.6);

    --orders-tab-border: rgba(255, 255, 255, 0.08);
    --orders-tab-inactive-bg: rgba(255, 255, 255, 0.06);
    --orders-tab-inactive-fg: #cbd5e1;
    --orders-tab-shadow: 0 1px 8px rgba(0, 0, 0, 0.35);

    --orders-tab-active-bg: rgba(67, 200, 255, 0.18);
    --orders-tab-active-fg: #b9ecff;
    --orders-tab-active-border: rgba(67, 200, 255, 0.6);
    --orders-tab-active-shadow: 0 6px 18px rgba(0, 24, 68, 0.46);
}

:root[data-theme="light"] {
    --orders-panel-bg: #ffffff;
    --orders-panel-border: var(--border-subtle);
    --orders-panel-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
    --orders-heading: var(--brand-navy);
    --orders-muted: var(--text-secondary);

    --orders-tabs-bg: rgba(255, 255, 255, 0.9);
    --orders-tabs-border: var(--border-subtle);
    --orders-tabs-shadow: 0 10px 26px rgba(15, 23, 42, 0.08);

    --orders-tab-border: var(--border-subtle);
    --orders-tab-inactive-bg: var(--control-bg);
    --orders-tab-inactive-fg: var(--text-secondary);
    --orders-tab-shadow: 0 1px 8px rgba(15, 23, 42, 0.04);

    --orders-tab-active-bg: color-mix(in srgb, var(--brand-blue) 24%, #ffffff);
    --orders-tab-active-fg: var(--brand-navy);
    --orders-tab-active-border: color-mix(in srgb, var(--brand-blue) 46%, var(--border-subtle));
    --orders-tab-active-shadow: 0 8px 20px rgba(15, 23, 42, 0.12);
}

/* === Order card tokens === */
:root[data-theme="dark"] {
    --order-card-bg: rgba(23, 38, 60, 0.98);
    --order-card-text: #e3f2fd;
    --order-card-shadow: 0 2px 24px #001844cc;
    --order-card-shadow-expanded: 0 4px 32px #43c8ff55, 0 2px 24px #001844cc;
    --order-card-border: #1e88e5;
    --order-card-border-active: #43c8ff;
    --order-card-section-bg: rgba(28, 37, 52, 0.92);
    --order-card-section-border: #193158;
    --order-card-heading: #43c8ff;
    --order-card-label: #8ecae6;
    --order-card-chip-bg: #193158bb;
    --order-card-chip-fg: #cfe9ff;
    --order-card-chip-shadow: 0 2px 8px #23416711;
    --order-card-route-bg: linear-gradient(90deg, #183969 38%, #253759 100%);
    --order-card-route-fg: #ffffff;
    --order-card-icon-bg: #162239;
    --order-card-icon-fg: #43c8ff;
    --order-card-icon-shadow: 0 1px 8px #43c8ff17;
}

:root[data-theme="light"] {
    --order-card-bg: #ffffff;
    --order-card-text: #0f172a;
    --order-card-shadow: 0 10px 26px rgba(15, 23, 42, 0.08);
    --order-card-shadow-expanded: 0 16px 36px rgba(15, 23, 42, 0.12);
    --order-card-border: color-mix(in srgb, var(--brand-blue) 36%, var(--border-subtle));
    --order-card-border-active: color-mix(in srgb, var(--brand-blue) 64%, #0ea5e9);
    --order-card-section-bg: #f4f7fd;
    --order-card-section-border: var(--border-subtle);
    --order-card-heading: var(--brand-navy);
    --order-card-label: var(--text-secondary);
    --order-card-chip-bg: #eef3fb;
    --order-card-chip-fg: var(--text-primary);
    --order-card-chip-shadow: 0 4px 10px rgba(15, 23, 42, 0.08);
    --order-card-route-bg: linear-gradient(90deg, #f1f7ff 25%, #e6f1ff 100%);
    --order-card-route-fg: var(--text-primary);
    --order-card-icon-bg: #e8f2ff;
    --order-card-icon-fg: var(--brand-navy);
    --order-card-icon-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
}

/* === Transport card tokens === */
:root[data-theme="dark"] {
    --transport-card-bg: rgba(23, 38, 60, 0.97);
    --transport-card-text: #e3f2fd;
    --transport-card-shadow: 0 2px 24px #001844cc;
    --transport-card-shadow-expanded: 0 4px 32px #43c8ff55, 0 2px 24px #001844cc;
    --transport-card-border: #1e88e5;
    --transport-card-border-active: #43c8ff;
    --transport-card-section-bg: rgba(28, 37, 52, 0.95);
    --transport-card-section-border: #193158;
    --transport-card-heading: #43c8ff;
    --transport-card-label: #8ecae6;
    --transport-card-chip-bg: #1a273f;
    --transport-card-chip-fg: #cfe9ff;
    --transport-card-chip-shadow: 0 2px 8px #23416711;
    --transport-card-route-bg: linear-gradient(90deg, #183969 38%, #253759 100%);
    --transport-card-route-fg: #ffffff;
    --transport-card-icon-bg: #162239;
    --transport-card-icon-fg: #43c8ff;
    --transport-card-icon-shadow: 0 1px 8px #43c8ff17;
    --transport-card-meta-bg: #193158cc;
    --transport-card-meta-fg: #cfe9ff;
    --transport-card-meta-shadow: 0 2px 8px #23416711;
    --transport-card-button-bg: #192b42;
    --transport-card-button-fg: #43c8ff;
    --transport-card-button-shadow: 0 1px 6px #43c8ff10;
    --transport-card-tooltip-bg: #222e43;
    --transport-card-tooltip-fg: #53ee5c;
    --transport-card-tag-border: #234167;
}

:root[data-theme="light"] {
    --transport-card-bg: #ffffff;
    --transport-card-text: #0f172a;
    --transport-card-shadow: 0 10px 26px rgba(15, 23, 42, 0.08);
    --transport-card-shadow-expanded: 0 16px 36px rgba(15, 23, 42, 0.12);
    --transport-card-border: color-mix(in srgb, var(--brand-blue) 36%, var(--border-subtle));
    --transport-card-border-active: color-mix(in srgb, var(--brand-blue) 64%, #0ea5e9);
    --transport-card-section-bg: #f4f7fd;
    --transport-card-section-border: var(--border-subtle);
    --transport-card-heading: var(--brand-navy);
    --transport-card-label: var(--text-secondary);
    --transport-card-chip-bg: #eef3fb;
    --transport-card-chip-fg: var(--text-primary);
    --transport-card-chip-shadow: 0 4px 10px rgba(15, 23, 42, 0.08);
    --transport-card-route-bg: linear-gradient(90deg, #f1f7ff 25%, #e6f1ff 100%);
    --transport-card-route-fg: var(--text-primary);
    --transport-card-icon-bg: #e8f2ff;
    --transport-card-icon-fg: var(--brand-navy);
    --transport-card-icon-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
    --transport-card-meta-bg: color-mix(in srgb, var(--brand-blue) 16%, #eef3fb);
    --transport-card-meta-fg: var(--text-primary);
    --transport-card-meta-shadow: 0 4px 10px rgba(15, 23, 42, 0.08);
    --transport-card-button-bg: color-mix(in srgb, var(--brand-blue) 18%, #f5f8ff);
    --transport-card-button-fg: var(--brand-navy);
    --transport-card-button-shadow: 0 2px 10px rgba(15, 23, 42, 0.08);
    --transport-card-tooltip-bg: #0f172a;
    --transport-card-tooltip-fg: #16a34a;
    --transport-card-tag-border: color-mix(in srgb, var(--brand-blue) 30%, var(--border-subtle));
}